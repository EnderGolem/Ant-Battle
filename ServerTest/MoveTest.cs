using Bot.Logic;
using Newtonsoft.Json;
using Server;
using Server.Combat;
using Server.Net;
using Server.Net.Models;
using System.Text.Json.Serialization;

namespace ServerTest;

public class MoveTest
{

    [Test]
    public void BuildMoveTest()
    {
     
        string s = "{\r\n  \"ants\": [\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"type\": 1,\r\n      \"health\": 180,\r\n      \"id\": \"5b7d542e-06b2-41f4-882e-6c37637a51e5\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"type\": 0,\r\n      \"health\": 130,\r\n      \"id\": \"d75377cd-a337-4151-9fee-36ed38a613c4\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"type\": 2,\r\n      \"health\": 80,\r\n      \"id\": \"9fb84819-151e-47ae-bbe7-fd23811bea9a\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    }\r\n  ],\r\n  \"enemies\": [],\r\n  \"map\": [\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -26,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -34,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -34,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -34,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    }\r\n  ],\r\n  \"food\": [\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 57,\r\n      \"type\": 1,\r\n      \"amount\": 9\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 64,\r\n      \"type\": 2,\r\n      \"amount\": 8\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 58,\r\n      \"type\": 2,\r\n      \"amount\": 7\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 56,\r\n      \"type\": 1,\r\n      \"amount\": 13\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 60,\r\n      \"type\": 2,\r\n      \"amount\": 7\r\n    }\r\n  ],\r\n  \"turnNo\": 40,\r\n  \"nextTurnIn\": 0.818,\r\n  \"home\": [\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 59\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 59\r\n    }\r\n  ],\r\n  \"score\": 0,\r\n  \"spot\": {\r\n    \"q\": -30,\r\n    \"r\": 60\r\n  }\r\n}";

        GameState stat = JsonConvert.DeserializeObject<GameState>(s)!;


        var combat = new Combat();
        var result = combat.Tick(stat);
    }

    [Test]
    public void AntBotLogicTest()
    {
     
        string s = "{\r\n  \"ants\": [\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"type\": 1,\r\n      \"health\": 180,\r\n      \"id\": \"5b7d542e-06b2-41f4-882e-6c37637a51e5\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"type\": 0,\r\n      \"health\": 130,\r\n      \"id\": \"d75377cd-a337-4151-9fee-36ed38a613c4\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"type\": 2,\r\n      \"health\": 80,\r\n      \"id\": \"9fb84819-151e-47ae-bbe7-fd23811bea9a\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    }\r\n  ],\r\n  \"enemies\": [],\r\n  \"map\": [\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -26,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -34,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -34,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -34,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    }\r\n  ],\r\n  \"food\": [\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 57,\r\n      \"type\": 1,\r\n      \"amount\": 9\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 64,\r\n      \"type\": 2,\r\n      \"amount\": 8\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 58,\r\n      \"type\": 2,\r\n      \"amount\": 7\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 56,\r\n      \"type\": 1,\r\n      \"amount\": 13\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 60,\r\n      \"type\": 2,\r\n      \"amount\": 7\r\n    }\r\n  ],\r\n  \"turnNo\": 40,\r\n  \"nextTurnIn\": 0.818,\r\n  \"home\": [\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 59\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 59\r\n    }\r\n  ],\r\n  \"score\": 0,\r\n  \"spot\": {\r\n    \"q\": -30,\r\n    \"r\": 60\r\n  }\r\n}";

        GameState stat = JsonConvert.DeserializeObject<GameState>(s)!;


        var combat = new AntBotLogic();
        var result = combat.BuildMoves(stat);
    }
    
    [Test]
    public void BuildMoveTestFromFile()
    {
     
        //string s = "{\r\n  \"ants\": [\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"type\": 1,\r\n      \"health\": 180,\r\n      \"id\": \"5b7d542e-06b2-41f4-882e-6c37637a51e5\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"type\": 0,\r\n      \"health\": 130,\r\n      \"id\": \"d75377cd-a337-4151-9fee-36ed38a613c4\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"type\": 2,\r\n      \"health\": 80,\r\n      \"id\": \"9fb84819-151e-47ae-bbe7-fd23811bea9a\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    }\r\n  ],\r\n  \"enemies\": [],\r\n  \"map\": [\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -26,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -34,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -34,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -34,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    }\r\n  ],\r\n  \"food\": [\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 57,\r\n      \"type\": 1,\r\n      \"amount\": 9\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 64,\r\n      \"type\": 2,\r\n      \"amount\": 8\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 58,\r\n      \"type\": 2,\r\n      \"amount\": 7\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 56,\r\n      \"type\": 1,\r\n      \"amount\": 13\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 60,\r\n      \"type\": 2,\r\n      \"amount\": 7\r\n    }\r\n  ],\r\n  \"turnNo\": 40,\r\n  \"nextTurnIn\": 0.818,\r\n  \"home\": [\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 59\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 59\r\n    }\r\n  ],\r\n  \"score\": 0,\r\n  \"spot\": {\r\n    \"q\": -30,\r\n    \"r\": 60\r\n  }\r\n}";
        var path = @"N:\Projects\Ants\ServerTest\test.json";

        string s = File.ReadAllText(path);
        Console.WriteLine(s);
        GameState stat = JsonConvert.DeserializeObject<GameState>(s)!;


        var combat = new Combat();
        var result = combat.Tick(stat);
    }

}
