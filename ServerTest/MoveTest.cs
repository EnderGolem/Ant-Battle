using Bot.Logic;
using Newtonsoft.Json;
using Server;
using Server.Combat;
using Server.Net;
using Server.Net.Models;
using System.Text.Json.Serialization;

namespace ServerTest;

public class MoveTest
{

    [Test]
    public void BuildMoveTest()
    {

        string s = "{\r\n  \"ants\": [\r\n    {\r\n      \"q\": 126,\r\n      \"r\": -29,\r\n      \"type\": 1,\r\n      \"health\": 180,\r\n      \"id\": \"69b6aa41-26eb-4786-808a-1dd138b820c7\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": 123,\r\n      \"r\": -20,\r\n      \"type\": 0,\r\n      \"health\": 130,\r\n      \"id\": \"ea83b2ed-d367-4d5a-9268-8cacd01c157c\",\r\n      \"food\": {\r\n        \"type\": 2,\r\n        \"amount\": 8\r\n      }\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -26,\r\n      \"type\": 0,\r\n      \"health\": 130,\r\n      \"id\": \"2bfff4c3-51cf-439a-9286-519f35b3733f\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": 127,\r\n      \"r\": -27,\r\n      \"type\": 1,\r\n      \"health\": 180,\r\n      \"id\": \"2ab8dee0-f6d8-405d-9996-46ce7143de34\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -23,\r\n      \"type\": 1,\r\n      \"health\": 180,\r\n      \"id\": \"dd0ccc21-a973-4b9f-971f-72140d9f036a\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -26,\r\n      \"type\": 2,\r\n      \"health\": 80,\r\n      \"id\": \"d7e43f60-781c-4182-abf6-d89d9bb5b60f\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -26,\r\n      \"type\": 1,\r\n      \"health\": 180,\r\n      \"id\": \"9b5fff37-0af9-46a7-96ec-4b9d2fe6cc1e\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -24,\r\n      \"type\": 1,\r\n      \"health\": 180,\r\n      \"id\": \"edc9e7d6-0d51-42b6-bb7d-4dfae9b4af75\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -25,\r\n      \"type\": 1,\r\n      \"health\": 180,\r\n      \"id\": \"1c1777af-82af-43aa-8380-3491f97f0e80\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": 128,\r\n      \"r\": -30,\r\n      \"type\": 2,\r\n      \"health\": 80,\r\n      \"id\": \"bd9f4c61-eccd-4676-9339-ed717c61c059\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    }\r\n  ],\r\n  \"enemies\": [],\r\n  \"map\": [\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -20,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 126,\r\n      \"r\": -26,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 123,\r\n      \"r\": -24,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -31,\r\n      \"cost\": 1,\r\n      \"type\": 5\r\n    },\r\n    {\r\n      \"q\": 126,\r\n      \"r\": -33,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 127,\r\n      \"r\": -28,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": 127,\r\n      \"r\": -27,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 122,\r\n      \"r\": -25,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 130,\r\n      \"r\": -29,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 127,\r\n      \"r\": -34,\r\n      \"cost\": 1,\r\n      \"type\": 4\r\n    },\r\n    {\r\n      \"q\": 125,\r\n      \"r\": -29,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 123,\r\n      \"r\": -28,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 129,\r\n      \"r\": -32,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 126,\r\n      \"r\": -28,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": 127,\r\n      \"r\": -26,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 122,\r\n      \"r\": -27,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 122,\r\n      \"r\": -29,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 128,\r\n      \"r\": -30,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 129,\r\n      \"r\": -31,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 130,\r\n      \"r\": -28,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": 126,\r\n      \"r\": -29,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 125,\r\n      \"r\": -23,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 122,\r\n      \"r\": -28,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": 127,\r\n      \"r\": -24,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 130,\r\n      \"r\": -31,\r\n      \"cost\": 1,\r\n      \"type\": 5\r\n    },\r\n    {\r\n      \"q\": 129,\r\n      \"r\": -33,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 121,\r\n      \"r\": -28,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": 123,\r\n      \"r\": -29,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 125,\r\n      \"r\": -25,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 128,\r\n      \"r\": -32,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 121,\r\n      \"r\": -24,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 131,\r\n      \"r\": -30,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 129,\r\n      \"r\": -29,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -22,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 123,\r\n      \"r\": -26,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 123,\r\n      \"r\": -27,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": 125,\r\n      \"r\": -30,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 121,\r\n      \"r\": -26,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 130,\r\n      \"r\": -30,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 128,\r\n      \"r\": -33,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 123,\r\n      \"r\": -23,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 123,\r\n      \"r\": -20,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 123,\r\n      \"r\": -21,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 121,\r\n      \"r\": -27,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 125,\r\n      \"r\": -31,\r\n      \"cost\": 1,\r\n      \"type\": 5\r\n    },\r\n    {\r\n      \"q\": 128,\r\n      \"r\": -27,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 131,\r\n      \"r\": -28,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": 127,\r\n      \"r\": -29,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 125,\r\n      \"r\": -26,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 127,\r\n      \"r\": -25,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 121,\r\n      \"r\": -23,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 126,\r\n      \"r\": -22,\r\n      \"cost\": 1,\r\n      \"type\": 5\r\n    },\r\n    {\r\n      \"q\": 130,\r\n      \"r\": -26,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 129,\r\n      \"r\": -28,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": 130,\r\n      \"r\": -32,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 120,\r\n      \"r\": -26,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 128,\r\n      \"r\": -31,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 131,\r\n      \"r\": -29,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 127,\r\n      \"r\": -30,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 123,\r\n      \"r\": -22,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -30,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 127,\r\n      \"r\": -33,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 129,\r\n      \"r\": -27,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 123,\r\n      \"r\": -25,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 120,\r\n      \"r\": -25,\r\n      \"cost\": 1,\r\n      \"type\": 4\r\n    },\r\n    {\r\n      \"q\": 125,\r\n      \"r\": -28,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 125,\r\n      \"r\": -27,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 127,\r\n      \"r\": -32,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 126,\r\n      \"r\": -32,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 129,\r\n      \"r\": -30,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 128,\r\n      \"r\": -28,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": 126,\r\n      \"r\": -25,\r\n      \"cost\": 1,\r\n      \"type\": 4\r\n    },\r\n    {\r\n      \"q\": 126,\r\n      \"r\": -24,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 128,\r\n      \"r\": -34,\r\n      \"cost\": 1,\r\n      \"type\": 4\r\n    },\r\n    {\r\n      \"q\": 126,\r\n      \"r\": -34,\r\n      \"cost\": 1,\r\n      \"type\": 4\r\n    },\r\n    {\r\n      \"q\": 123,\r\n      \"r\": -19,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": 131,\r\n      \"r\": -32,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 130,\r\n      \"r\": -33,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 125,\r\n      \"r\": -32,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 125,\r\n      \"r\": -24,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 122,\r\n      \"r\": -24,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 120,\r\n      \"r\": -27,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 122,\r\n      \"r\": -30,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 122,\r\n      \"r\": -26,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 131,\r\n      \"r\": -31,\r\n      \"cost\": 1,\r\n      \"type\": 5\r\n    },\r\n    {\r\n      \"q\": 130,\r\n      \"r\": -34,\r\n      \"cost\": 1,\r\n      \"type\": 4\r\n    },\r\n    {\r\n      \"q\": 126,\r\n      \"r\": -27,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 128,\r\n      \"r\": -26,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -25,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -23,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 126,\r\n      \"r\": -31,\r\n      \"cost\": 1,\r\n      \"type\": 5\r\n    },\r\n    {\r\n      \"q\": 132,\r\n      \"r\": -30,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 125,\r\n      \"r\": -33,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 127,\r\n      \"r\": -31,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 121,\r\n      \"r\": -29,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -29,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 126,\r\n      \"r\": -30,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 122,\r\n      \"r\": -21,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 122,\r\n      \"r\": -19,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": 122,\r\n      \"r\": -20,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 122,\r\n      \"r\": -23,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 128,\r\n      \"r\": -29,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 125,\r\n      \"r\": -22,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -24,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -26,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": 126,\r\n      \"r\": -23,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 130,\r\n      \"r\": -27,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -27,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": 123,\r\n      \"r\": -30,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 129,\r\n      \"r\": -26,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 122,\r\n      \"r\": -22,\r\n      \"cost\": 1,\r\n      \"type\": 5\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -28,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": 121,\r\n      \"r\": -25,\r\n      \"cost\": 1,\r\n      \"type\": 4\r\n    },\r\n    {\r\n      \"q\": 129,\r\n      \"r\": -34,\r\n      \"cost\": 1,\r\n      \"type\": 4\r\n    }\r\n  ],\r\n  \"food\": [\r\n    {\r\n      \"q\": 129,\r\n      \"r\": -33,\r\n      \"type\": 1,\r\n      \"amount\": 7\r\n    },\r\n    {\r\n      \"q\": 123,\r\n      \"r\": -20,\r\n      \"type\": 2,\r\n      \"amount\": 6\r\n    },\r\n    {\r\n      \"q\": 128,\r\n      \"r\": -27,\r\n      \"type\": 1,\r\n      \"amount\": 10\r\n    },\r\n    {\r\n      \"q\": 128,\r\n      \"r\": -28,\r\n      \"type\": 2,\r\n      \"amount\": 3\r\n    }\r\n  ],\r\n  \"turnNo\": 253,\r\n  \"nextTurnIn\": 1.556,\r\n  \"home\": [\r\n    {\r\n      \"q\": 123,\r\n      \"r\": -27\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -26\r\n    },\r\n    {\r\n      \"q\": 124,\r\n      \"r\": -27\r\n    }\r\n  ],\r\n  \"score\": 0,\r\n  \"spot\": {\r\n    \"q\": 124,\r\n    \"r\": -26\r\n  }\r\n}";


        GameState stat = JsonConvert.DeserializeObject<GameState>(s)!;


        var combat = new Combat();
        var result = combat.Tick(stat);
    }

    [Test]
    public void AntBotLogicTest()
    {
     
        string s = "{\r\n  \"ants\": [\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"type\": 1,\r\n      \"health\": 180,\r\n      \"id\": \"5b7d542e-06b2-41f4-882e-6c37637a51e5\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"type\": 0,\r\n      \"health\": 130,\r\n      \"id\": \"d75377cd-a337-4151-9fee-36ed38a613c4\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"type\": 2,\r\n      \"health\": 80,\r\n      \"id\": \"9fb84819-151e-47ae-bbe7-fd23811bea9a\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    }\r\n  ],\r\n  \"enemies\": [],\r\n  \"map\": [\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -26,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -34,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -34,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -34,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    }\r\n  ],\r\n  \"food\": [\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 57,\r\n      \"type\": 1,\r\n      \"amount\": 9\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 64,\r\n      \"type\": 2,\r\n      \"amount\": 8\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 58,\r\n      \"type\": 2,\r\n      \"amount\": 7\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 56,\r\n      \"type\": 1,\r\n      \"amount\": 13\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 60,\r\n      \"type\": 2,\r\n      \"amount\": 7\r\n    }\r\n  ],\r\n  \"turnNo\": 40,\r\n  \"nextTurnIn\": 0.818,\r\n  \"home\": [\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 59\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 59\r\n    }\r\n  ],\r\n  \"score\": 0,\r\n  \"spot\": {\r\n    \"q\": -30,\r\n    \"r\": 60\r\n  }\r\n}";

        GameState stat = JsonConvert.DeserializeObject<GameState>(s)!;


        var combat = new AntBotLogic();
        var result = combat.BuildMoves(stat);
    }
    
    [Test]
    public void BuildMoveTestFromFile()
    {
     
        //string s = "{\r\n  \"ants\": [\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"type\": 1,\r\n      \"health\": 180,\r\n      \"id\": \"5b7d542e-06b2-41f4-882e-6c37637a51e5\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"type\": 0,\r\n      \"health\": 130,\r\n      \"id\": \"d75377cd-a337-4151-9fee-36ed38a613c4\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"type\": 2,\r\n      \"health\": 80,\r\n      \"id\": \"9fb84819-151e-47ae-bbe7-fd23811bea9a\",\r\n      \"food\": {\r\n        \"type\": 0,\r\n        \"amount\": 0\r\n      }\r\n    }\r\n  ],\r\n  \"enemies\": [],\r\n  \"map\": [\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -26,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -34,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -34,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 3\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 62,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -28,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -34,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -33,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 63,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 64,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -27,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 60,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 61,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 59,\r\n      \"cost\": 1,\r\n      \"type\": 1\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 57,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 58,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -32,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 56,\r\n      \"cost\": 1,\r\n      \"type\": 2\r\n    }\r\n  ],\r\n  \"food\": [\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 57,\r\n      \"type\": 1,\r\n      \"amount\": 9\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 64,\r\n      \"type\": 2,\r\n      \"amount\": 8\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 58,\r\n      \"type\": 2,\r\n      \"amount\": 7\r\n    },\r\n    {\r\n      \"q\": -29,\r\n      \"r\": 56,\r\n      \"type\": 1,\r\n      \"amount\": 13\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 60,\r\n      \"type\": 2,\r\n      \"amount\": 7\r\n    }\r\n  ],\r\n  \"turnNo\": 40,\r\n  \"nextTurnIn\": 0.818,\r\n  \"home\": [\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 60\r\n    },\r\n    {\r\n      \"q\": -30,\r\n      \"r\": 59\r\n    },\r\n    {\r\n      \"q\": -31,\r\n      \"r\": 59\r\n    }\r\n  ],\r\n  \"score\": 0,\r\n  \"spot\": {\r\n    \"q\": -30,\r\n    \"r\": 60\r\n  }\r\n}";
        var path = @"N:\Projects\Ants\ServerTest\test.json";

        string s = File.ReadAllText(path);
        Console.WriteLine(s);
        GameState stat = JsonConvert.DeserializeObject<GameState>(s)!;


        var combat = new Combat();
        var result = combat.Tick(stat);
    }

    [Test]
    public void TestConversionToAxial()
    {
        Assert.IsTrue(HexCellHash.FromCoordinate(new Coordinate(){Q = -2, R = -2}) == new HexCellHash(-1,-2));
        Assert.IsTrue(HexCellHash.FromCoordinate(new Coordinate(){Q = -2, R = -1}) == new HexCellHash(-1,-1));
        Assert.IsTrue(HexCellHash.FromCoordinate(new Coordinate(){Q = 1, R = 0}) == new HexCellHash(1,0));
        Assert.IsTrue(HexCellHash.FromCoordinate(new Coordinate(){Q = -1, R = -2}) == new HexCellHash(0,-2));
    }
    
    [Test]
    public void TestConversionFromAxial()
    {
        Assert.IsTrue(new HexCellHash(-1, -2).ToCoordinate().Equals(new Coordinate(){Q = -2, R = -2}));
        Assert.IsTrue(new HexCellHash(-1, -1).ToCoordinate().Equals(new Coordinate(){Q = -2, R = -1}));
        Assert.IsTrue(new HexCellHash(1, 0).ToCoordinate().Equals(new Coordinate(){Q = 1, R = 0}));
        Assert.IsTrue(new HexCellHash(0, -2).ToCoordinate().Equals(new Coordinate(){Q = -1, R = -2}));
        
    }

}
